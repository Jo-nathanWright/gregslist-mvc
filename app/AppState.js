import Car from "./Models/Car.js"
import Game from "./Models/Game.js"
import House from "./Models/House.js"
import Job from "./Models/Job.js"
import { EventEmitter } from "./Utils/EventEmitter.js"
import { isValidProp } from "./Utils/isValidProp.js"

class AppState extends EventEmitter {
  /** @type {Car[]} */
  cars = []
  /** @type {House[]} */
  houses = []
  /** @type {Job[]} */
  jobs = []
  // new Job({
  //   company: "Aperture Science",
  //   jobTitle: "Test Subject",
  //   rate: 3.75,
  //   hours: infinite
  //   description: "You will be working with a [REDACTED] learning the facilty while doing minor tests",
  // })
  games = [
    new Game({
      genre: "Horror",
      playerAmount: 1,
      length: 480,
      developer: "Capcom",
      imgUrl:
        //#region THE IMAGE LINK
        'data: image / jpeg; base64,/ 9j / 4AAQSkZJRgABAQAAAQABAAD / 2wCEAAoHCBYWFRgWFhYZGRgaGhwaGhocHBwcHBwcHBoaGhoaHhwcIS4lHB4rIRwcJzgnKy8xNTU1HCQ7QDs0Py40NTEBDAwMDw8QGBISGDEhGCExMTQxNDQ0MTExMTQ0MTQ0MTExNDE0MTQ0NDQxPzQ0NDE0NDQ0PzQxNDQ0PzExND8 / NP / AABEIAKMBNgMBIgACEQEDEQH / xAAcAAABBQEBAQAAAAAAAAAAAAAEAAECAwUGBwj / xABBEAABAwIEAgcGBAQFAwUAAAABAAIRAyEEEjFBUWEFInGBkaHwBhMyscHRBxRC4VJisvEjcpKzwhWiwyQlQ4KT / 8QAGAEBAQEBAQAAAAAAAAAAAAAAAAECAwT / xAAiEQEBAQACAgIBBQAAAAAAAAAAARECIQMxQVFxEiIyYYH / 2gAMAwEAAhEDEQA / APRGOnUKQoDeyKo0yOAk3VoatMYBFIJ / y4O6NOVRMbIYCfhQqX4eFpuFpVLgmmMxzE3u0cWqt7FWcDAJy1TypsqBmBWtanayybIgJbUlpadxCoo4prQxj / ic1zZ55yAPL1KlTYsrphoeA9nWynKY4gz3fEFK1GvSaA9oAi / zV + KjKU9GjBuZy9XhJ3Kjj6jWsc47Aqk9PM / bGjJIjn4iCuHqYCGgDe / 0 + i9BxWKZWeQ4ANEH + YgnwNrz2LH6SwrA9 + SIBgRoY3RmVw2LpEBrRMAfPXz + iHewAabLfx2F3WTiGqNygWqyu + wCWRVVAikxt1Y2ypAUm9veoCGPui2PWewq9jrG + kd8nRUHCrzU2VIB520QRMcVL3kcTyRMFmpylVOMg6jfvSaY1lSa68k6bfdVFDKRiTaRvPHzQdd5mJ09eK0KuIJnQAep1WbU1UqxdRrQESzFRO / rkswuhO1xTTGzSqZjf9 / 7LpcHUyABoHobLjsI + DNpXQdGYmLu0 / urKzyjoab3vMB3E6 / XZaOFotEEntWHU6SY1sgwdxqTtqrML0lnIGg110 / dXWMdYMmmvaks6kyB8YA2PFJB3bqpTZ3aqttRTLpCjZw8qbaypcmAQE + 9USVWCo50E3KDgpkqDmoIQpWUYVd0RdPNPIALnEAC5J0TMbFzYDUnQLFx / TDCXBrgWiGwCMznE / pEjbfbTjAbNGux4dfKAAbxcA6kbDblruh + h3saXMNveAwOfKeP0CzqGJaGZmkxpnPxAuOd0yTbsk2AndYlfpAZiZg69Xxsrib29AoVM2eOPCL6fRcr04K73PDLBrS9wBMkbx9ludBdIe + b7wggkZXcC5mpHriuZ9vMQ1ktz5czTpJcTaBYiAZ8oUavpwWJ6SyvLaktO + ojkRtv4qb8Q4tBDg4cisHpVr3uLnPc / g9wd1hsRmvB5rODnNaYcQREa85 + imrjdxGKkQsp9YSgWYhxMEkg7ceCevTc3VNXFvvbwpOpz68AgmuuEfh8U1tRji3OGlri06OAIkHtiFLejEXMgfDYcrE9vFDOcF3HtH7Q4atQFHDUXsmoajs5BhxBGVmWYbc / Zcy7o9wYagY1zAcrpcLE6dUODzqLj6FZ428p3MWyRnB4KsZPPuVVUXnKByBdHb1iSk0laBDXeJ8le6pzjugeSEa7c + Gylm4qi9zj2 + KtaOPruQ7TPr1CuD76QjJObcwfMceCHq0zrFlOoSqDVEQjSmL8 + MhSD4TW71MNH3UFlBx4oynXO2v1WezsV1MGdLKpRrXOR + DrXi0DzPegKVXZFU3QOqVUrUqYx / 8AER37eh5J0PRpEiSSfIJIz09raL2U3VEHTedVa2 + 8ICCmBTDgnaEVMxootYpgJwEFZCiSrSFEsQREJmtkqwUlidN9KsYHsBiID6l8rSb5JAMuI1HA76IBun + lJa5gjIMpJM9frS2I2lupgacRHPYbExLhIBEQBA0MCB842HNSxLWwWtGYQQXyAHEyRsIjq7X61rlB1KgY0jhO0322iDx8lYxanjce4Ey43uZG99VkV8WANZ9X9BB4 / FS4mefrhss9 + KJ1ixlLVkenewPS4Icx0hrSAwXvLRJG1zJP + ZUfiG0FziLkBp0tGhk / 6fDx5X2DxpNUsza3aLBsjMRJ1kxH2Xd9MYAVMO861XQRAGoz5r7WB7wFGv6eSVq7 / hAtaBFzt3omp0W6euCLSR9 + fJdFjehhSLi5zS8OBmIFiIGuxErn8b0o + S10a2vx57yhqeB6Ezk5GgkX4eaC6ZojI3jv2ruvYHDvcx7nMgZS4O4wYI9cFyntIy / LMf2Q3tyORM1hmUQynJhGCiBso1oOlVjTdQfV4pVWQTCHcUURqNVLNbRDB5VzTt64qCbhN4AsBAETAie06ntSyxGvh9VEEhSzyqLGEi91Y2re6oJ7fopN7UZFksy3sRuIM8u3yQ / 5YOuD3qIdxU3uBgBpA4 / bgPNAM9omPNMWxvbinDbxoNvumezjKNJ0mz6 + 2isDe3t2VOcbfVWU6nLtmf2UFtJx4xw9ALRovEEG9rcO1AUWE6eCvdTIHfdVK0 / fOIAmABaEllsqEbH5JKs497DFMMV + QdqkGomKRO0q5pT5TskJ8UE2hThRYOKuaxRpUpAKz3SxOnOkizqMIByuc55tlaGzPbJGnHmqVD2h6W920sZOcxfQATDgDOtttBe2o86djhTnR / 6gCQ4yQ6HOzCHTvaBPYE / SVRxLs2YsJm5LutGuZ173m + hPBZjmsBB + KNOGhtbu8OZVxjRNHpIkZTZskwDbsyiG + A2ACBxvSGw7N9O7vQ + Iqw8mBGsduw + UhZtZ7c257OPBNJEq1VCvqmCBr90qr7Ax + 6De6e36arNbkG9E4806jHCeq4OjsIJ8rL1HA + 0DK1MFgJyvFjGbrkSBxuNuBXjtMwReL6gT5WlbHR + JdTOZj7EZjBkgm0Gw6w1VlOUdV7X9IHPkmXCc199x5ALn8Nhc7pdA / snxOOa6Hm5b1Te28H6rLOKcTIKlSensHsx7Q4cOpUX9QikGSSMrnNF788oPbK4H2sxbHPfkNs5jskwVzb8SSLlDvc5x3J25pq4Mw7CZi88NkQRrOv1CzsLWLSIWkKrS0niLqlZryhXFEPIklDlZWE1yuBBGpzcItH + aZB5R3qjKpcPPkUVfnm0KJEKLRzUmnigsYSr2njb12oYGFIklUWuv6 + 6cy0AzE8OwXg7yqs5mPXmpVGyBBn9 + SMpZxbSfH + yk8TdDNkHTlpcdl1e18xxRoww47N1EtA4eN / onBgyZ7PWoTh863PNGT03gf3KMo1T3 + PzQjaU7W0N1IN7Y24aoD4nafmkrsEZBtB7BptY / OUlU1720SrWtUWhXMagbKnAVgamhRTNCmCoFDYnEBltygr6V6SDIY0y868hv38FwXSOOLc0 / FAIcQIiJgWkXj0TJmPxLy430174E3k7fJc3j512Opnn81qRzt01bpEG7gTfQxBPENEQOwjbWL5mKxQ6u4btrrJm / y5KVZkSWwbX9dyEqPbl0nlzQC419xA1Fpk7m1jwA5rOqM6x3PK49aorEPc53GBp + 6i1ubRvrgVG4Fe + QGm0fJBkC94IEi05jIETtYk9yMfSiNLzabjt4INzLqVqIkybDuRNMxDRfiNJJ58NB48VKnQDQS65LCWgbGYl17RHmE1F7QLtNjmzNMOFoAE2jNBvwRFZNzty + iOw8Bul + KEZUYZL2kng05R8imDxNp7 / V0FtUtJMtHch3Ac1Y83VBHE8kFlMAnnsUXiHBrIGp17Tqo9G4UPc1smS4Dhb1Cj0m1ud7WaNe5oM6gGJ8j4oAgdtvW6iBNle4ASNeHrmoBnFGjDTmoR + 6nN07zIQQY66kCFEpaqCeb1qltbvv9N1XKRQWOcrsMyXdaY8PmhZ5qYdJQXB4mPPipudNxrzVBmJHI7d0cVJruPjwQWzmgTv4fsosZBhVtBBEeHHwRrWwOfzVDUW3 + 5siKLATHruVLHTqT57afNX0CR1pt39qrI0UoA + QOnbCSo / MHZseKSI + gWFEMchAmOIAtvw3QaAKYlC060jUTuOCFx3SLWDUZjz80NaFSpGizsT8JJuYPfqhKHSzDqeUHU858PJQx + PaBrJ2GttSmM2uexLDcm06a2jkudxNBxMzv2rpcR0qwkMDvi3Ijw4oGtgJmDE6LSOfxIG8rPrABpMha2Iwpk3WXiWNOuihGVVabGO9PRflPbvCKeWtsPX2VAi5KjSjGtcSTH6vn + wVFNgBJMkCIRbqT6ghjHvg3yNc4ibgEtFtD4Kr3ZaC1zHNcCJDgWkWkDKRI49hCnWtfCGIrvJMEDqRsJaGZYvr1e9BQjGYR7yC1j3N4ta5wGgOgiJMKP5V + XP7t + WJzZXZY1nNERzS2LIGhRcEXTw73gFtN7gdHNa4gxrcCD + yHcBE7IiDRKuY1xkGI6sztqBB1gTt9Amfh3tEuY8DclrgLxFyLa + aTdNEB1FzabJBl2Y3GwEQRwus94kzxRAwtVwBbSqEESCGOIIsZBAvqPEKrEUXsjOx7JmM7S2YiYzC8SPEIuBypEIno7AVa7slGm57tSGjQcXHRo5khaON9lMbTYXPw7so1LS18DiQxxIHcisRrZsmlXYWk9x6jHvI2a0u1tsCrB0ViNPy9b / 83 / ZQBuUVfVpvYSx7XNI1a4FrhabgieaocECAnRTewt1Edmqg4QmbE3mOWqCUCbkd1 + 5M3iFZVjQAiOMW8BqoNb2AXNzw25lA2Yk + rK4mI5 / dURcJ5QEtIsT9v7oh9QaaWty + aBplWuBGw5T5qgmdPnbusnzkTB7lQx8gDS226tY6Ln / UBMd3FGVwqxrvPPhKSZj49WTIPoXFVoaYNy2RGtzA7Pn2IaIaHuIgME8jOw3Nrnkq8RWgAzO57Ttwj79ix + kcU95gHq / pA08AtSMWjndIPc7MywAgkRYGw11NvJY + P6QDQJJLoJJ111k9kqLXENygwYMuiRrpfQRKAx5trcb6yNde1VGdiMY4kgO8eHCOJT1MY8jeAQByteCB3oHEVrktdLp02jnsqanSJADTF9r280MGOrwCNzvvxmfWqPo4g5BD7WkW17CsYVzOkg6W4etEmYkkzptPrZDGjUrFxIPhwQ9UMgzZCvedZhNnO90ArqdzpB5erofEsAsPNFucJtZUVXcVFdB + F2Ny4mpTJjOxrhwlmcf80N + IVEDHPJ1fTY / ycz / igPY6pkx9KP152eLCR5tHitf8SqR97QLTd7HMnnnblFv868 / ry79x298XR4Kn + V6Jc8GH / ls83 + J7CQNf4nnxTdFtzdFN5YUx3Uz670P + IWKDcB7ttg97KY7G9f8A4BUdD1X / APTw0QAMM6SeGQx3 / SeS4d / p2 / NdPnGp + H7Gnoulsctb / cqarxsN / wAPu + i9c9gasdGUxyq93XevLmU / 8Jp5BdfD75 / ljn6j1D8RBlwMESc9MGf8wvyJiF5VX + E9i9S / Ee + Gmb + 8Z4ZrRw4lecflszmM / je1n + pwb9VfB / D / AFOft7XgcuHw9Jrv0ijTAmLuLKY83fJcd + L1FzqdCpIyte5gG8vbmmeHUiOU9mv7bY8MoMJsPzFH / teH9whiH / EumHYJx1yPY4d7sh / q811Rb + HWHY3A03gCXZnPI1Jzv1PJoa3 / AOqXsR7WVMaK + djGFhaW5c0Frg6AZJ6wy6jWdBF5exL46Poj + V / +5UP18lxHsXisXhmPfRwjqraobDpIHULxaNbuPgg6b2doNpdJ49jBlbDHQIgFwDnRsBLjbuW90p7ZYbCVTTqGpmgOGVuYBp0O3A22XMexOIe / G4t9Vhpvc2mXMM2OwJPGx70D7c9E4itiy + nRfUZ7tjczRIkF0jtug5n2oxzMRi61anOR7wWlwgwGNFxtcFZBEIivTLCWuBa5pgg6g80OVoUuSScmKgnULQABc7nbuCizuUSmQTqEbaJw23PtUNlJqCbW8Y + qte6dFWLkqRIKCbOUzv2 / ZEU / n6v8kM03Rdo + K / AAqsnBi0J0zQDx7rBJB6ticcZN / W5Qb8a1ty4EkGw7OY7UJjyGkyeXO8 / SFi4quALED5 / stubVqdJSdToLDaRv3 / JBYnEOIMmOzdZLMSQYJtvAvyUq + ItA4eChiqs / QB0cTwQTH3vx1TumePK33QxN1G5G3g8SbDl6PktF + QMcXBwfbJEEa3zbrnKFTKbHtRlTETfSeCus2L6 + JBAPDxVbsUFmurnSVF1Qwpq4OZXF + Ci + qJ4Tpv2aoAvVbnkmZTVwdhcSGVqT5jLVae4PGbykLvvaikKj8If4cS0nsDXOP9C8sqiZ8F6LgMYKjGOcZsHwf4i2AeYglefze5ydvH6sDe3 + Ml1JkSAHvI0ucoaf6lqdFV46PHOg7zYbfuuS9oa + fEPM / AxrO8Av / wCS1 + isRGCyz / 8AG8dkNI + ixy454 + MWX91ansTVjo + mOVT / AHHriWsHuB2BdD7LV4wbByf / AFvXPuqn3AljgIFy0xfQzELfimXn + Wefw7b25fmoAfzNA / 1Anvt81yvR9CcTh2u / jaeHw9ca82rf6drtdTaxxN6jIgEnXlylAU8hxNMNDhlDiHFjhJy5f1c3J4OuB5PcaP4i031KFNjGOf8A4mYhrXOIhjhcAW + ILW9pnGpgaoiJpZyDqMoD7g6aeSzulPaJuHLG5HPLgXHKQIggXnt8kY3FDEYYuAIFRjrWJ6zS0jhK6sm9j63 / AKGkNOq / +t6F / D7pdr8OKIa4GiGhxMQ7O57hEaaKHsvUIwVEfyu / rd67Vi / hw + PfX2pf + RBvdDvH / U8af5aX9DQp9O + 17MPUdSNN7nZGnM3KLOHNBdFVf / cMZe5ZSjjZjdlhe1lB5xTnBj3AsbdrXOE3tYJCsLpGuatWpVDSA95dB1E6TzQxFlfUeJIOYEagiCO0FU5lplQ5qgrHlVyo0iUgUio3QOQnbxnuSlMRaUFlomRyG6sYy0khVMcdimzICgABpfzUc44n12KLX8Unt3GiAv30gRH + keZ4p1Vhqkfwk / zfROqy7 / FCQTdx4891hYgX5rW9 + YLdbICs5q25wE9tkPVpkbz60R0IXFOUWM5xJKd0WjvSfKVKLz3dqjaDpBU / zNzI1MwBAvwAUXlCPfKGCHv8Ldt7 + CTASgnPKuo1iFFwQ5hVbm8R80QXSJDo9dqoc6TxVRWeC3eielGU6Ya4OkcGyPL1dYpdGiQk / uscuM5TKs5WCX4nO97r9ZxPYNB9AjqHSdNlH3ZmchaerqSDqZ5obAdG1KrHvYWQwkEEkOJDC8gQ0gCGn4iBKHZgXGgcRmblDi2OtmJblnRpaPjGrhN05cZZJ9LLZ20ujOlWMoNpuzSA6YH8TnH6o3pLpqm / DupNDg4taBIMSHNJm / IrCxGDfTpMquLcr4IALs0EOI1GU / CZykxImJCMw / RtQ1H081NrqeXMXOcGkuc1rQCGmSS4C4CTjJt + y2tT / qzC9jusA1 + Yw29muH1RVfp + kajHw / qteIykXcaZn / sKwMNQqOZUfLGik4tcHZiZAcSBla4fpNyQOaYUKppCuMuTK50zcZXhhBEWJLpA3AdwTjx48ZkS20Z0vjvfVA8Ahvuw24i8uJ + Y8EV0N7QMo02U35uq52gmxcXD5rFrUnsp06hexzak5WtLi8R8UgtAEGxgm53SwWDfWDy0taGAFxdm / VMQGtcf0nsWusTvWj0F062iw03SA13UMatLiTP8JE6o1vtBhqVqbAMxBdkbA0vNr9y5qjhHvpmq3LlAeXSSC3IGGDbV2dobxM6Qo08A9zqbRlmpTdUbcwGszyDazv8ADda + oU6XtrYbptjMTVrdbK8NDbGbNAMjuWu72uonXPr / AAlcOKgIT5kw0R0nWa + tUe0nK50iRB0G2yFlIuUS5VUXOCgVJ3FMSoGJSDeaQKiUEoHEJiy07JmtnklJCBMCmQUmX3gc0iOaBgVMJojmmlBaCI3SVRckg78CO3xQVd97iFCpWcLef9lS + pOq24rabwZQmIHBO90bhDvcTuo1A75lQeSiHqmq0wCjSt7SqH9nr18kXshagRYFc6E4eU72qAKyq9tVWggXlCBO10bqpgl1ROK10OO8py / +Ud2qGDaOMexrmtMMcTmESDLSwg8oPjB2TNxLjT92ACyS6CJInLJB2 + EeCDz8JCtoyDM + voir6teoWe7MZbGwAJyghuYjWASPurmY6q17qnVLn5c0tBHVILTBtILQe5Cl3h63RWHayJLb89OUJiahQrvDKjTBD + u7MJJcZEjgesbqDcbUaw0w7qFuUt4guL / GZ8Sp18VMZRA09eSHc + ZBA5R3phtSDyQxjj1WZogXGYyd73VuFxbmZw0Ah4GaQHA5Zix7SqfcO19eCg8uadxpr6uiLGVXtY + mCQx + UuHHLcdl / kOCenintcxwImmwsaCJGU55BG / xO8VKuGgDrEvMSIgC2iqkGALHx70XTfmD1 + qwB + oyiG2I6vDXZQb5aSp1KPNDOkWQ9rSFXKYO5psyikfXJMpPb91Bo2QKUlFJqKkCb / NMAmISlBbn4D7qMFRzQna8yiHzWUVI2MJIHboko5kkHZ1NPFBP3SSW3KBsRshRqkko3Fo0UDukkgTVGpqUkkAdRVJJLKwwThJJFWMKd30SSVDU9UUwevBJJIlVs370RXsxJJVPkLT1TjRJJRoZSu0T6upD6fdJJVlGowEgwhcT + nt + yZJSkOz4VCqkkgHfqmCSSjROUAkkginakkik5IJJIJFO1JJEQTtSSRUkkkkR / 9k = ',
      //#endregion
      description: "You must save the baby. Who cares about anything else?"

    })
  ]
}


export const ProxyState = new Proxy(new AppState(), {
  get(target, prop) {
    isValidProp(target, prop)
    return target[prop]
  },
  set(target, prop, value) {
    isValidProp(target, prop)
    target[prop] = value
    target.emit(prop, value)
    return true
  }
})
